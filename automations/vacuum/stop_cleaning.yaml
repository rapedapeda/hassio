- id: vacuum_stop_cleaning
  alias: Vacuum stop cleaning when arriving
  trigger:
    - platform: state
      entity_id: input_boolean.presence_status
      to: 'on'
  condition:
  - condition: state
    entity_id: vacuum.rockrobo
    state: 'cleaning'
  action:
  - service: vacuum.return_to_base
    entity_id: vacuum.rockrobo
  - service: script.turn_off
    entity_id: script.vacuum_everything
  - service: script.turn_off
    entity_id: script.vacuum_zone
  - service: input_select.select_option
    data_template:
      entity_id: input_select.vacuum_manual
      option: None