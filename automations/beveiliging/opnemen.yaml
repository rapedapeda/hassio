- id: opnemen_aan
  alias: Opname aan (beweging)
  trigger: 
    - platform: state
      entity_id:
        - binary_sensor.camera_achter_smart_motion_human
        - binary_sensor.camera_achter_motion_alarm
      to: 'on'
  condition:
    - not:
      - condition: state
        entity_id: alarm_control_panel.huis
        state: disarmed
    - condition: state
      entity_id: input_boolean.camera_1_neemt_op
      state: 'off'
  action:
    - service: homeassistant.turn_on
      entity_id: input_boolean.camera_1_neemt_op

- id: opnemen_uit
  alias: Opname uit (beweging)
  trigger: 
    - platform: state
      entity_id:
        - binary_sensor.camera_achter_smart_motion_human
        - binary_sensor.camera_achter_motion_alarm
      to: 'off'
  condition: []
  action:
    - service: homeassistant.turn_off
      entity_id: input_boolean.camera_1_neemt_op

- id: camera_start_opname
  alias: Camera start opname
  trigger: 
    - platform: state
      entity_id:
        - input_boolean.camera_1_neemt_op
      to: 'on'
  condition: []
  action:
    # start opname
    - service: shell_command.camera_1_start_recording

- id: camera_stop_opname
  alias: Camera stop opname
  trigger: 
    - platform: state
      entity_id:
        - input_boolean.camera_1_neemt_op
      to: 'off'
  condition:
    - condition: state
      entity_id: input_boolean.camera_1_neemt_op
      state: 'on'
  action:
    # start opname
    - service: shell_command.camera_1_stop_recording