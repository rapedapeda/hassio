vacuum_living_room:
  alias: Vacuum living room
  sequence:
  - condition: or
    conditions: 
      - condition: numeric_state
        entity_id: counter.vacuum_living_room
        below: 1
  - service: vacuum.send_command
    data:
      entity_id: 'vacuum.rockrobo'
      command: 'zoned_cleanup'
      params:
        'zone_ids': ["Kamer","Keuken"]
  - delay: 00:01:00
  - wait_template: "{{ not is_state('vacuum.rockrobo', 'cleaning') }}"
  - condition: or
    conditions: 
      - condition: numeric_state
        entity_id: vacuum.rockrobo
        above: 0
        value_template: "{{ state_attr('vacuum.rockrobo', 'last_run_stats').area }}"
  - service: counter.increment
    entity_id: counter.vacuum_living_room
  - service: script.turn_on
    entity_id: script.counter_emptying_increase