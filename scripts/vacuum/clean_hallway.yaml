vacuum_hallway:
  alias: Vacuum hallway
  sequence:
  - condition: or
    conditions: 
      - condition: numeric_state
        entity_id: counter.vacuum_hallway
        below: 1
  - service: vacuum.send_command
    data:
      entity_id: 'vacuum.rockrobo'
      command: 'zoned_cleanup'
      params:
        'zone_ids': ['Hal']
  - delay: 00:00:05
  - wait_template: "{{ not is_state('vacuum.rockrobo', 'cleaning') }}"
  - condition: or
    conditions: 
      - condition: numeric_state
        entity_id: vacuum.rockrobo
        above: 0
        value_template: "{{ state_attr('vacuum.rockrobo', 'last_run_stats').area }}"
  - service: counter.increment
    entity_id: counter.vacuum_hallway